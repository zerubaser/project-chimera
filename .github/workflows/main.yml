name: CI

on:
  push:
    branches: ["main"]
  pull_request:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
        - name: Verify specs exist
          run: |
            test -s specs/functional.md
            test -s specs/technical.md

        - name: Checkout
          uses: actions/checkout@v4

        - name: Run tests in Docker
          run: make test
